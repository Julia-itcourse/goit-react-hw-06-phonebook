{"ast":null,"code":"import _defineProperty from\"D:/dev/GitHub/goit-react-hw-06-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/dev/GitHub/goit-react-hw-06-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/dev/GitHub/goit-react-hw-06-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/dev/GitHub/goit-react-hw-06-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/dev/GitHub/goit-react-hw-06-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import styles from\"./PhonebookForm.module.css\";import{v4 as uuidv4}from\"uuid\";import{CSSTransition}from\"react-transition-group\";import\"./notification.css\";import{connect}from\"react-redux\";import contactsActions from\"../../redux/contacts/contactsActions\";var PhonebookForm=/*#__PURE__*/function(_Component){_inherits(PhonebookForm,_Component);var _super=_createSuper(PhonebookForm);function PhonebookForm(){var _this;_classCallCheck(this,PhonebookForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",number:\"\",showNotification:false};_this.handleChange=function(_ref){var _ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var contact={id:uuidv4(),name:_this.state.name,number:_this.state.number};console.log(\"PhonebookForm.handleSubmit\");console.dir(_this.props.contacts);var sameContact=_this.props.contacts.items.find(function(existingContact){return existingContact.name===contact.name;});if(sameContact){console.log(\"same contact exists\");_this.setState({showNotification:true});setTimeout(function(){_this.setState({showNotification:false});},1500);}else{_this.props.onAddContact(contact);_this.setState({name:\"\",number:\"\"});}};return _this;}_createClass(PhonebookForm,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:styles.form__group,children:[/*#__PURE__*/_jsx(\"input\",{className:styles.form__input,name:\"name\",type:\"text\",value:this.state.name,onChange:this.handleChange,placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{className:styles.form__input,name:\"number\",type:\"text\",value:this.state.number,onChange:this.handleChange,placeholder:\"Phone number\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:styles.button,type:\"submit\",children:\"Add contact\"}),/*#__PURE__*/_jsx(CSSTransition,{in:this.state.showNotification,classNames:\"notification\",timeout:250,unmountOnExit:true,children:/*#__PURE__*/_jsx(\"div\",{className:styles.notification,children:\"Contact already exists!\"})})]});}}]);return PhonebookForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{contacts:state.contacts};};var mapDispatchToProps={onAddContact:contactsActions.onAddContact};export default connect(mapStateToProps,mapDispatchToProps)(PhonebookForm);","map":{"version":3,"sources":["D:/dev/GitHub/goit-react-hw-06-phonebook/src/components/PhonebookForm/PhonebookForm.jsx"],"names":["React","Component","styles","v4","uuidv4","CSSTransition","connect","contactsActions","PhonebookForm","state","name","number","showNotification","handleChange","target","value","setState","handleSubmit","event","preventDefault","contact","id","console","log","dir","props","contacts","sameContact","items","find","existingContact","setTimeout","onAddContact","form__group","form__input","button","notification","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport styles from \"./PhonebookForm.module.css\"\r\nimport { v4 as uuidv4 } from \"uuid\"\r\nimport { CSSTransition } from \"react-transition-group\"\r\nimport \"./notification.css\"\r\nimport { connect } from \"react-redux\"\r\nimport contactsActions from \"../../redux/contacts/contactsActions\"\r\n\r\nclass PhonebookForm extends Component {\r\n  state = {\r\n    name: \"\",\r\n    number: \"\",\r\n    showNotification: false,\r\n  }\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const contact = {\r\n      id: uuidv4(),\r\n      name: this.state.name,\r\n      number: this.state.number,\r\n    }\r\n\r\n    console.log(\"PhonebookForm.handleSubmit\")\r\n    console.dir(this.props.contacts)\r\n\r\n    const sameContact = this.props.contacts.items.find(\r\n      (existingContact) => existingContact.name === contact.name\r\n    )\r\n    if (sameContact) {\r\n      console.log(\"same contact exists\")\r\n      this.setState({ showNotification: true })\r\n      setTimeout(() => {\r\n        this.setState({ showNotification: false })\r\n      }, 1500)\r\n    } else {\r\n      this.props.onAddContact(contact)\r\n      this.setState({ name: \"\", number: \"\" })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={styles.form__group}>\r\n        <input\r\n          className={styles.form__input}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={this.state.name}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Name\"\r\n          required\r\n        />\r\n\r\n        <input\r\n          className={styles.form__input}\r\n          name=\"number\"\r\n          type=\"text\"\r\n          value={this.state.number}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Phone number\"\r\n          required\r\n        />\r\n\r\n        <button className={styles.button} type=\"submit\">\r\n          Add contact\r\n        </button>\r\n\r\n        <CSSTransition\r\n          in={this.state.showNotification}\r\n          classNames=\"notification\"\r\n          timeout={250}\r\n          unmountOnExit\r\n        >\r\n          <div className={styles.notification}>Contact already exists!</div>\r\n        </CSSTransition>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { contacts: state.contacts }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onAddContact: contactsActions.onAddContact,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhonebookForm)\r\n"]},"metadata":{},"sourceType":"module"}